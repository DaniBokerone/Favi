<!-- <app-sidenav></app-sidenav> -->
<div *ngIf="showHome();" class="full-h">

    
    <div (click)="createPlaylist()">
        DELETE
        CREAR PLAYLST
    </div>

    <div *ngIf="favAlbums">
    <h1 class="is-size-1" fxLayoutAlign="center">FAV ALBUM</h1>
    <div class="home-content">
        <div class="card my-card" *ngFor="let item of favAlbums" routerLink="songs/{{item.album_id}}">
            <div class="card-content">
                <img src="data:image/jpeg;base64,{{item.cover_image}}">
                <div>
                    <p class="ellipsis">{{item.name}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
<h1 class="is-size-1" fxLayoutAlign="center">MY PLAYLIST</h1>
    <!-- PLACEHOLDER -->
    <div class="home-content">
        <div class="card my-card" *ngFor="let myPlaylist of myPlaylists" routerLink="playlist/{{myPlaylist.playlist_id}}">
            <div class="card-content">
                <img src="data:image/jpeg;base64,{{myPlaylist.cover_image}}">
                <div>
                    <p class="ellipsis">{{myPlaylist.name}}</p>
                </div>
            </div>
        </div>
    </div>
    
    <h1 class="is-size-1" fxLayoutAlign="center">PLAYLIST</h1>
    <!-- PLACEHOLDER -->
    <div class="home-content">
        <div class="card my-card" *ngFor="let playlist of playlists" routerLink="playlist/{{playlist.playlist_id}}">
            <div class="card-content">
                <img src="data:image/jpeg;base64,{{playlist.playlist_img}}">
                <div>
                    <p class="ellipsis">{{playlist.name}}</p>
                </div>
            </div>
        </div>
    </div>

    <h1 class="is-size-1" fxLayoutAlign="center">FOLLOW PLAYLIST</h1>
    <!-- PLACEHOLDER -->
    <div class="home-content">
        <div class="card my-card" *ngFor="let playlist of followedPlaylists" routerLink="playlist/{{playlist.playlist_id}}">
            <div class="card-content">
                <img src="data:image/jpeg;base64,{{playlist.playlist_img}}">
                <div>
                    <p class="ellipsis">{{playlist.name}}</p>
                </div>
            </div>
        </div>
    </div>

    <h1 class="is-size-1" fxLayoutAlign="center">HOME</h1>
    <!-- PLACEHOLDER -->
    <div class="home-content">
        <div class="card my-card" *ngFor="let item of items" routerLink="songs/{{item.album_id}}">
            <div class="card-content">
                <img src="data:image/jpeg;base64,{{item.cover_image}}">
                <div>
                    <p class="ellipsis">{{item.name}}</p>
                </div>
            </div>
        </div>
        <!-- routerLink="song/{{item.id}}" -->
        <!-- <div class="card my-card" routerLink="songs/1">
            <div class="card-content">
                <img src="../../assets/img/noimage.png">
                <div>
                    <p class="ellipsis">Titulo cancion </p>
                </div>
            </div>
        </div>
        <div class="card my-card" routerLink="songs/2">
            <div class="card-content">
                <img src="../../assets/img/noimage.png">
                <div>
                    <p class="ellipsis">Titulo cancion muuy muy muy muy uuy muy largo</p>
                </div>
            </div>
        </div> -->
    </div>

    <h1 class="is-size-1" fxLayoutAlign="center">ARTIST</h1>
    <!-- PLACEHOLDER -->
    <div class="home-content">
        <div class="card my-card my-artist" *ngFor="let artist of artists" routerLink="artist/{{artist.artist_id}}">
            <div class="card-content">
                <img src="data:image/jpeg;base64,{{artist.artist_image}}">
                <p>{{artist.artist_name}}</p>
            </div>
        </div>
    </div>
    
</div>
<router-outlet></router-outlet>
<div id="subMenuSong" *ngIf="subMenuSong">
    <!-- //subMenuSongCurrentSong -->
    <div>
        <ul>
            <li class="img-li"><img src="data:image/jpeg;base64,{{subMenuData.currentSong.cover_img}}"></li>
            <li class="li-center">{{subMenuData.currentSong.name}}</li>
            <li class="li-center">{{subMenuData.currentSong.artist_name}}</li>
            <li (click)="loadMusic(subMenuData.playlist, subMenuData.index); subMenuDisplay()" class="slide">Play</li>
            <li (click)="goToArtist(subMenuData.currentSong.artist_id); subMenuDisplay()" class="slide">Go to artist</li>
            <!-- create playlist if length == 0 -->
            <div *ngIf="myPlaylists && (subMenuData.playlist_id == null || !subMenuData.isMyPlaylist)">
                <li class="li-center add-playlist">Add to playlist</li>
                <li class="slide" *ngFor="let playlist of myPlaylists" (click)="addToPlaylist(subMenuData.currentSong, playlist); subMenuDisplay()">
                    {{playlist.name}}
                </li>
            </div>
            <div *ngIf="myPlaylists==undefined">
                <li class="li-center add-playlist">Add to playlist</li>
                <li (click)="createPlaylist()" class="slide">Create playlist</li>
            </div>
            <div *ngIf="subMenuData.playlist_id != null && subMenuData.isMyPlaylist">
                <li (click)="removeToPlaylist(subMenuData.currentSong, subMenuData.playlist_id)" class="slide">Remove to playlist</li>
            </div>
            
            <li class="slide close" (click)="subMenuDisplay()">Close</li>
        </ul>
    </div>
</div>
<div id="progress-bar" *ngIf="actualSong && !displaySong">
    <div class="progress-bar-div">
        {{currentTime}}
        <input type="range" id="actualMusic" min="0" max="{{durationImput}}" [value]="currentTimeInput" (input)="setTime($event)">
        {{duration}}
    </div>
    <div class="info-song">
        <img *ngIf="actualSong.cover_img!=''" src="data:image/jpeg;base64,{{actualSong.cover_img}}">
        <div class="data-song" (click)="openSong()">
            <p>{{actualSong.name}}</p>
            <p>{{actualSong.artist_name}}</p>
            <input type="range" min="0" max="1" value="0" step="0.01" (input)="setVolume($event)" value="1">
        </div>
        <i class="fa-solid fa-repeat"></i>

        <i class="fa-solid fa-volume-high"></i>
        <!-- <i class="fa-solid fa-volume-low"></i>
        <i class="fa-solid fa-volume-off"></i>
        <i class="fa-solid fa-volume-xmark"></i> -->
        
        <i (click)="back()" class="fa-solid fa-backward-step"></i>

        <i (click)="play()" *ngIf="!isPlayed" class="fa-solid fa-play"></i>
        <i (click)="pause()" *ngIf="isPlayed" class="fa-solid fa-pause"></i>
        <!-- <i (click)="play()"  class="fa-solid fa-play"></i>
        <i (click)="pause()" class="fa-solid fa-pause"></i> -->
        <i (click)="next()" class="fa-solid fa-forward-step"></i>
    </div>
</div>
<div id="progress-bar" class="full-h fixed-song" *ngIf="actualSong && displaySong">
    <div class="img-blur" style="background-image: url(data:image/jpeg;base64,{{actualSong.cover_img}});"></div>
    <div class="icon-div" (click)="openSong()"><i class="fa-solid fa-angle-down"></i></div>
    <div class="div-img">
        
        <img *ngIf="actualSong.cover_img!=''" src="data:image/jpeg;base64,{{actualSong.cover_img}}">
    </div>
    <div class="content-song">
        <div class="data-div">
            <div class="data-song">
                <p class="ellipsis">{{actualSong.name}}</p>
                <p>{{actualSong.artist_name}}</p>
                
            </div>
            <div class="name-buttons">
                <i (click)="removeToFav(actualSong)" *ngIf="actualSong.fav" class="fa-solid fa-heart my-icon-color"></i>
                <i (click)="addToFav(actualSong)" *ngIf="!actualSong.fav" class="fa-regular fa-heart"></i>


                <i class="fa-solid fa-repeat"></i>
                <i class="fa-solid fa-shuffle"></i>

                <input [ngClass]="{'closed-volume-menu': !volumeMenu}" type="range" min="0" max="1" value="0" step="0.01" (input)="setVolume($event)" value="1" id="volume">
                
                <i (click)="openVolume()" class="fa-solid fa-volume-high"></i>

                
            </div>
        </div>
        

        <div class="progress-bar-div">
            
            <input type="range" id="actualMusic" min="0" max="{{durationImput}}" [value]="currentTimeInput" (input)="setTime($event)">
            
            
            <div class="duration">
                <span>{{currentTime}}</span>
                <span>{{duration}}</span>
            </div>
        </div>

        <div class="main-buttons">
            <div></div>
            <i (click)="back()" class="fa-solid fa-backward-step"></i>
            <i (click)="play()" *ngIf="!isPlayed" class="fa-solid fa-circle-play"></i>
            <i (click)="pause()" *ngIf="isPlayed" class="fa-solid fa-circle-pause"></i>
            <i (click)="next()" class="fa-solid fa-forward-step"></i>
            <div></div>
        </div>

        <!-- <div class="info-song">
            
            

            


            <i class="fa-solid fa-repeat"></i>

            <i class="fa-solid fa-volume-high"></i>
            
            <i (click)="back()" class="fa-solid fa-backward-step"></i>

            <i (click)="play()" *ngIf="!isPlayed" class="fa-solid fa-play"></i>
            <i (click)="pause()" *ngIf="isPlayed" class="fa-solid fa-pause"></i>
            <i (click)="play()"  class="fa-solid fa-play"></i>
            <i (click)="pause()" class="fa-solid fa-pause"></i>
            <i (click)="next()" class="fa-solid fa-forward-step"></i>
        </div> -->
    </div>
</div>
<!-- <app-footer *ngIf="showFooter(true);"></app-footer> -->